<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maçlar - BSL Veritabanı</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .nav {
            text-align: center;
            margin: 20px 0;
        }
        .nav a {
            margin: 0 10px;
            text-decoration: none;
            color: #007bff;
        }
        .nav a:hover {
            text-decoration: underline;
        }
        .filter-section {
            background: white;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        .score {
            font-weight: bold;
            font-size: 1.1em;
        }
        .winner {
            color: #28a745;
        }
    </style>
</head>
<body>
    <h1>🏀 Maçlar</h1>
    
    <div class="nav">
        <a href="/">Ana Sayfa</a>
        <a href="/players">Oyuncular</a>
        <a href="/teams">Takımlar</a>
        <a href="/staff">Teknik Ekip</a>
        <a href="/standings">Puan Durumu</a>
    </div>

    <div class="filter-section">
        <h3>Filtreleme ve Sıralama</h3>
        <form method="get">
            <label>Sıralama:</label>
            <select name="sort">
                <option value="match_date">Tarih</option>
                <option value="match_week">Hafta</option>
                <option value="match_city">Şehir</option>
                <option value="league">Lig</option>
            </select>
            
            <label>Sıra:</label>
            <select name="order">
                <option value="desc">Azalan</option>
                <option value="asc">Artan</option>
            </select>
            
            <label>Limit:</label>
            <input type="number" name="limit" value="100" min="1" max="10000" style="width: 80px;">
            
            <button type="submit">Uygula</button>
        </form>
    </div>

    <h2>Toplam Maç Sayısı: {{ matches|length }}</h2>

    <table>
        <thead>
            <tr>
                <th>Maç ID</th>
                <th>Tarih</th>
                <th>Saat</th>
                <th>Ev Sahibi</th>
                <th>Skor</th>
                <th>Deplasman</th>
                <th>Lig</th>
                <th>Hafta</th>
                <th>Şehir</th>
                <th>Salon</th>
            </tr>
        </thead>
        <tbody>
            {% for match in matches %}
            <tr>
                <td>{{ match.match_id }}</td>
                <td>{{ match.match_date }}</td>
                <td>{{ match.match_hour }}</td>
                <td>{{ match.home_team }}</td>
                <td class="score">
                    {% if match.home_score is not none and match.away_score is not none %}
                        <span class="{% if match.home_score > match.away_score %}winner{% endif %}">
                            {{ match.home_score }}
                        </span>
                        -
                        <span class="{% if match.away_score > match.home_score %}winner{% endif %}">
                            {{ match.away_score }}
                        </span>
                    {% else %}
                        <span>-</span>
                    {% endif %}
                </td>
                <td>{{ match.away_team }}</td>
                <td>{{ match.league }}</td>
                <td>{{ match.match_week }}</td>
                <td>{{ match.match_city }}</td>
                <td>{{ match.match_saloon }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="nav" style="margin-top: 30px;">
        <a href="?format=json">JSON Formatında Görüntüle</a>
    </div>
</body>
</html>
